# use the new container-based Travis infrastructure
os: linux
dist: trusty
sudo: false  

language: csharp
solution: MonoDevelop.WakaTime.sln
mono:
  - 3.12.0

before_install:
  - cd src

install:
  - sudo apt-get install -yq monodevelop # Install MonoDevelop for mdtool utility
  - nuget restore MonoDevelop.WakaTime.sln

script:
  - mdtool --help # must be run at least once before doing `mdtool setup ...` (seemingly an mdtool bug)
  - xbuild /p:Configuration=Debug MonoDevelop.WakaTime.sln
